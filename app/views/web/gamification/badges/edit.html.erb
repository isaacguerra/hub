<div class="container mt-4">
  <h1 class="h3 text-gray-800 mb-4">Editar Medalha: <%= @badge.name %></h1>

  <%= form_with(model: [:gamification, @badge], local: true, class: "card p-4 shadow-sm mw-100", style: "max-width: 600px;") do |f| %>
    <% if @badge.errors.any? %>
      <div class="alert alert-danger" role="alert">
        <ul class="mb-0 ps-3">
          <% @badge.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mb-3">
      <%= f.label :name, "Nome", class: "form-label fw-bold" %>
      <%= f.text_field :name, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :description, "Descrição", class: "form-label fw-bold" %>
      <%= f.text_area :description, rows: 3, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :image_url, "URL da Imagem", class: "form-label fw-bold" %>
      <%= f.text_field :image_url, class: "form-control" %>
    </div>

    <div class="mb-4">
      <%= f.label :criteria, "Critérios (JSON)", class: "form-label fw-bold" %>
      <%= f.text_area :criteria, value: (@badge.criteria.to_json if @badge.criteria.present?), rows: 3, class: "form-control font-monospace" %>
    </div>

    <div class="d-flex justify-content-between align-items-center">
      <%= f.submit "Salvar Alterações", class: "btn btn-primary" %>
      <%= link_to "Cancelar", gamification_badges_path, class: "btn btn-link text-decoration-none" %>
    </div>
  <% end %>
</div>
