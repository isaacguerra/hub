<div class="card card-custom mb-4">
  <div class="card-body">
    <%= form_with url: root_path, method: :get, class: "row g-3 align-items-end", data: { turbo_action: "advance" } do |f| %>
      <div class="col-md-3">
        <%= f.label :nome, "Nome", class: "form-label small fw-bold text-muted" %>
        <%= f.text_field :nome, value: params[:nome], class: "form-control", placeholder: "Buscar por nome..." %>
      </div>
      
      <div class="col-md-2">
        <%= f.label :funcao_id, "Função", class: "form-label small fw-bold text-muted" %>
        <%= f.collection_select :funcao_id, Funcao.all, :id, :nome, { include_blank: "Todas" }, { class: "form-select", selected: params[:funcao_id] } %>
      </div>
      
      <div class="col-md-2">
        <%= f.label :municipio_id, "Município", class: "form-label small fw-bold text-muted" %>
        <%= f.collection_select :municipio_id, Municipio.all, :id, :nome, { include_blank: "Todos" }, { class: "form-select", selected: params[:municipio_id] } %>
      </div>

      <div class="col-md-2">
        <%= f.label :regiao_id, "Região", class: "form-label small fw-bold text-muted" %>
        <%= f.collection_select :regiao_id, Regiao.all, :id, :nome, { include_blank: "Todas" }, { class: "form-select", selected: params[:regiao_id] } %>
      </div>

      <div class="col-md-2">
        <%= f.label :bairro_id, "Bairro", class: "form-label small fw-bold text-muted" %>
        <%= f.collection_select :bairro_id, Bairro.all, :id, :nome, { include_blank: "Todos" }, { class: "form-select", selected: params[:bairro_id] } %>
      </div>

      <div class="col-md-1 d-grid">
        <%= f.button type: "submit", class: "btn btn-primary-custom" do %>
          <i class="bi bi-search"></i>
        <% end %>
      </div>
      
      <% if params[:nome].present? || params[:funcao_id].present? || params[:municipio_id].present? || params[:regiao_id].present? || params[:bairro_id].present? %>
        <div class="col-12 mt-2">
          <%= link_to root_path, class: "text-decoration-none small text-muted" do %>
            <i class="bi bi-x-circle"></i> Limpar filtros
          <% end %>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
